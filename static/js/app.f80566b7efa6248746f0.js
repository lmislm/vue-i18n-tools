webpackJsonp([1],{"+skl":function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("Xxa5"),i=r.n(a),s=r("exGp"),o=r.n(s),l=r("d7EF"),c=r.n(l),u=r("Dd8w"),d=r.n(u),p=r("Gu7T"),f=r.n(p),h=r("mtWM"),g=r.n(h),v=r("woOf"),m=r.n(v),y=r("OvRC"),x=r.n(y),C=w("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track");function w(e,t){for(var r=x()(null),n=e.split(","),a=0;a<n.length;a++)r[n[a]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}var b=function(){return!1},k=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,_="[a-zA-Z_][\\w\\-\\.]*",A="((?:"+_+"\\:)?"+_+")",S=new RegExp("^<"+A),T=/^\s*(\/?)>/,E=new RegExp("^<\\/"+A+"[^>]*>"),L=/^<!DOCTYPE [^>]+>/i,M=/^<!\--/,O=/^<!\[/,q=w("script,style,textarea",!0),$={},N={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},W=/&(?:lt|gt|quot|amp);/g,R=/&(?:lt|gt|quot|amp|#10|#9);/g,H=w("pre,textarea",!0),j=function(e,t){return e&&H(e)&&"\n"===t[0]};function D(e,t){var r=t?R:W;return e.replace(r,function(e){return N[e]})}var I=["-||","||-"],P=["%$$","$$%"],B=r("fZjL"),F=r.n(B),z=r("/ZzT");function V(e,t){var r=[];!function e(t,r,n){if("ImportDeclaration"===t.type)return;if("StringLiteral"===t.type||"DirectiveLiteral"===t.type){var a=t;n(a.value)&&r.push(t)}else if("TemplateLiteral"===t.type)if(t.expressions&&t.expressions.length&&t.quasis.length>1)t.quasis.some(function(e){return n(e.value.cooked)})?(r.push(t.quasis),t.expressions.forEach(function(t){return e(t,r,n)})):t.expressions.forEach(function(t){return e(t,r,n)});else{var i=t;n(i.quasis[0].value.cooked)&&r.push(i.quasis[0])}else if(Array.isArray(t))t.forEach(function(t){return e(t,r,n)});else{var s=F()(t);s.forEach(function(a){(t[a]&&t[a].type||Array.isArray(t[a]))&&e(t[a],r,n)})}}(Object(z.parse)(e,{allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,allowSuperOutsideMethod:!0}).program,r,t);var n=[];return r.forEach(function(e,t){if(Array.isArray(e)){var r=e.reduce(function(t,r,n){return n<e.length-1?t+r.value.raw+"{"+n+"}":t+r.value.raw},"");e.map(function(a,i){n.push({index:t,type:"TemplateQuasis",item:a,first:0==i,last:i==e.length-1,value:r})})}else n.push({index:t,type:"String",item:e})}),n.sort(function(e,t){return e.item.start-t.item.start}),n}var Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.filter,n=void 0===r?function(){return!0}:r,a=t.startNo,i=void 0===a?0:a,s=[],o=0,l={};return V(e,n).forEach(function(t){if("String"==t.type){var r=t.item.start+o,n=t.item.end+o,a=i+t.index;if("StringLiteral"==t.item.type||"DirectiveLiteral"==t.item.type){var c=I[0]+a+I[1];s.push({index:a,replaceCode:c,originalCode:e.substring(r,n),word:t.item.value,type:"string",replaceType:"js"}),e=e.substring(0,r)+c+e.substring(n),o+=t.item.start-t.item.end+c.length}else{r-=1,n+=1;var u=I[0]+a+I[1];s.push({index:a,replaceCode:u,originalCode:e.substring(r,n),word:t.item.value.cooked,type:"string",replaceType:"js"}),e=e.substring(0,r)+u+e.substring(n),o+=t.item.start-t.item.end-2+u.length}}else if("TemplateQuasis"==t.type){var d=i+t.index;if(t.first){var p=I[0]+d+P[0],f=e.substring(t.item.start-1+o,t.item.end+2+o);e=e.substring(0,t.item.start-1+o)+p+e.substring(t.item.end+2+o),l[d]={start:t.item.start+o-1,index:d,originalCode:[f],extractString:{index:d,replaceCode:"",originalCode:"",word:t.value,type:"template",replaceType:"js"}},o+=t.item.start-t.item.end-3+p.length,s.push(l[d].extractString),e=e}else if(t.last){var h=P[1]+d+I[1],g=e.substring(t.item.start-1+o,t.item.end+1+o);l[d].originalCode.push(g);var v=(e=e.substring(0,t.item.start-1+o)+h+e.substring(t.item.end+1+o)).substring(l[d].start,t.item.start-1+o+h.length),m=l[d].originalCode.reduce(function(e,t,r,n){return 0===r?e.replace(I[0]+d+P[0],t):r===n.length-1?e.replace(P[1]+d+I[1],t):e.replace(P[1]+d+P[0],t)},v);l[d].extractString.originalCode=m,l[d].extractString.replaceCode=v,delete l[d],o+=t.item.start-t.item.end-2+h.length}else{var y=P[1]+d+P[0],x=e.substring(t.item.start-1+o,t.item.end+2+o);l[d].originalCode.push(x),e=e.substring(0,t.item.start-1+o)+y+e.substring(t.item.end+2+o),o+=t.item.start-t.item.end-3+y.length,e=e}}}),{result:e,markString:I,interpolationMark:P,extractString:s}},Q=["v-for"],G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.filter,n=void 0===r?function(){return!0}:r,a=(t.startNo,[]),i=0,s=0,o=void 0;return function(e,t){for(var r=[],n=t.expectHTML,a=b,i=w(""),s=0,o=void 0,l=void 0;e;){if(o=e,l&&q(l))!function(){var r=0,n=l.toLowerCase(),a=$[n]||($[n]=new RegExp("([\\s\\S]*?)(</"+n+"[^>]*>)","i")),i=e.replace(a,function(e,a,i){return r=i.length,q(n)||"noscript"===n||(a=a.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),j(n,a)&&(a=a.slice(1)),t.chars&&t.chars(a,s,s+a.length),""});s+=e.length-i.length,e=i,N(n,s-r,s)}();else{var c=e.indexOf("<");if(0===c){if(M.test(e)){var u=e.indexOf("--\x3e");if(u>=0){"function"==typeof t.comment&&t.comment(e.substring(4,u)),x(u+3);continue}}if(O.test(e)){var d=e.indexOf("]>");if(d>=0){x(d+2);continue}}var p=e.match(L);if(p){x(p[0].length);continue}var f=e.match(E);if(f){var h=s;x(f[0].length),N(f[1],h,s);continue}var g=_();if(g){A(g),j(g.tagName,e)&&x(1);continue}}var v=void 0,m=void 0,y=void 0;if(c>=0){for(m=e.slice(c);!(E.test(m)||S.test(m)||M.test(m)||O.test(m)||(y=m.indexOf("<",1))<0);)c+=y,m=e.slice(c);v=e.substring(0,c),x(c)}c<0&&(v=e,e="",s+=v.length),t.chars&&v&&t.chars(v,s-v.length,s)}if(e===o){t.chars&&t.chars(e,s,s+e.length);break}}function x(t){s+=t,e=e.substring(t)}function _(){var t=e.match(S);if(t){var r={tagName:t[1],attrs:[],start:s};x(t[0].length);for(var n=void 0,a=void 0;!(n=e.match(T))&&(a=e.match(k));){var i=s;x(a[0].length);var o=s;r.attrs.push({array:a,start:i,end:o})}if(n)return r.unarySlash=n[1],x(n[0].length),r.end=s,r}}function A(e){var s=e.tagName,o=e.unarySlash;n&&("p"===l&&C(s)&&N(l),i(s)&&l===s&&N(s));for(var c=a(s)||!!o,u=e.attrs.length,d=new Array(u),p=0;p<u;p++){var f=e.attrs[p].array,h=f[3]||f[4]||f[5]||"",g="";f[3]?g='"':f[4]&&(g="'"),d[p]={code:f[0],name:f[1],start:e.attrs[p].start,end:e.attrs[p].end,value:D(h,!0),quotationMarks:g}}c||(r.push({tag:s,lowerCasedTag:s.toLowerCase(),attrs:d}),l=s),t.start&&t.start(s,d,e.start,e.end)}function N(e,n,a){var i=void 0,o=void 0;if(null==n&&(n=s),null==a&&(a=s),e)for(o=e.toLowerCase(),i=r.length-1;i>=0&&r[i].lowerCasedTag!==o;i--);else i=0;if(i>=0){for(var c=r.length-1;c>=i;c--)t.end&&t.end(r[c].tag,n,c==i?a:n);r.length=i,l=i&&r[i-1].tag}else"br"===o?t.start&&t.start(e,[],n,a):"p"===o&&(t.start&&t.start(e,[],n,a),t.end&&t.end(e,n,a))}N()}(e,{start:function(t,r,l,c){0===s?(o=t,s++):"template"===t&&"template"===o&&s++,"template"===o&&r.forEach(function(t){if(t.value&&-1===Q.indexOf(t.name.toLowerCase()))if(t.name.match(/^[:@]|v-/)){var r=t.code.split("=")[0],s=t.value;'"'===t.quotationMarks?s=s.replace(/\\"/g,'"'):"'"===t.quotationMarks&&(s=s.replace(/\\'/g,"'"));try{var o=Z(s,{startNo:a.length,filter:n});if(o.extractString.length>0){var l=[];o.extractString.forEach(function(e,r){var n=m()({},e,{replaceType:"vue-attr",quotationMarks:t.quotationMarks});l.push(n)}),a=a.concat(l),e=e.substr(0,t.start+i)+r+"="+t.quotationMarks+o.result+t.quotationMarks+e.substr(t.end+i),i+=o.result.length-s.length}}catch(e){console.warn(s,"\n",e)}}else if(t.name.match(/^[a-zA-Z_]+/g)&&n(t.value)){var c='"'==t.quotationMarks?"'":'"',u=""+I[0]+a.length+I[1],d={index:a.length,originalCode:t.code.trim(),replaceCode:":"+t.name+"="+c+u+c,word:t.value,type:"string",replaceType:"attr"};a.push(d),e=e.substr(0,t.start+i)+t.code.split(t.name[0])[0]+u+e.substr(t.end+i),i+=u.length-d.originalCode.length}})},chars:function(t,r,s){if("template"===o)for(var l=t,c=r;l;){var u=l.indexOf("{{"),d=void 0;if(0===u){var p=l.indexOf("}}");if(-1!==p){d=l.substr(2,p-2),l=l.substr(p+2);try{var f=Z(d,{startNo:a.length,filter:n});f.extractString.length>0&&function(){var t=[];f.extractString.forEach(function(e,r){var n=m()({},e,{replaceType:"vue-template"});t.push(n)}),a=a.concat(t),e=e.substr(0,c+i)+"{{"+f.result+"}}"+e.substr(c+d.length+4+i),i+=f.result.length-d.length,c+=f.result.length+3}()}catch(e){console.warn(d,"\n",e)}continue}}if(u>0&&l.indexOf("}}")>-1?(d=l.substr(0,u),l=l.substr(u)):(d=l,l=""),n(d)){var h=""+I[0]+a.length+I[1],g={index:a.length,originalCode:d,replaceCode:"{{"+h+"}}",word:d.trim(),type:"string",replaceType:"template"};a.push(g),e=e.substr(0,c+i)+h+e.substr(c+d.length+i),i+=h.length-g.originalCode.length,c+=d.length}}else if("script"===o){var v=t;try{var y=Z(v,{startNo:a.length,filter:n});if(y.extractString.length>0){var x=[];y.extractString.forEach(function(e,t){var r=e;x.push(r)}),a=a.concat(x),e=e.substr(0,r+i)+y.result+e.substr(s+i),i+=y.result.length-v.length}}catch(e){console.warn(v,"\n",e)}}},end:function(e){1===s&&o==e?(o=void 0,s--):s>1&&"template"===e&&"template"===o&&s--}}),{result:e,markString:I,interpolationMark:P,extractString:a}};function U(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(t=t.filter(function(e){return e}).reduce(function(e,t){return[].concat(f()(e),f()(t.trim().split(/\s+/g)))},[])).slice(0,3).map(function(e){return e.toLowerCase()}).join("_")}var J={name:"HelloWorld",data:function(){return{pageName:"",code:"",findWordArr:[],replaceCode:"",resultCode:"",keyCode:""}},computed:{showReplaceCode:function(){return this.replaceCode?this.findWordArr.reduce(function(e,t,r){if(!t.used){if(e.indexOf(""+I[0]+t.index+P[0])>-1){var n=e.indexOf(""+I[0]+t.index+P[0]),a=e.indexOf(""+P[1]+t.index+I[1])+(""+I[1]+t.index+P[1]).length;return e.substr(0,n)+t.originalCode+e.substr(a)}return e.replace(I[0]+t.index+I[1],t.originalCode)}return e=e.replace(I[0]+t.index+I[1],t.replaceCode)},this.replaceCode):""},showReplaceCodeHTML:function(){var e=document.createElement("div");e.textContent=this.showReplaceCode;var t=e.innerHTML;return t=this.findWordArr.reduce(function(e,t,r){return e.replace(""+I[0]+r+I[1],'<span class="heightlight word'+r+'">$t('+(r+1)+")</span>").replace(""+I[0]+r+P[0],'<span class="heightlight word'+r+'">$t('+(r+1)+", [</span>").replace(""+P[1]+r+P[0],'<span class="heightlight word'+r+'">,</span>').replace(""+P[1]+r+I[1],'<span class="heightlight word'+r+'">])</span>')},t)},replaceDisable:function(){return this.findWordArr.reduce(function(e,t){return e&&(!t.used||t.key)},!0)}},watch:{code:function(){this.findWordArr=[],this.replaceCode="",this.resultCode=""}},methods:{analyse:function(){var e=G(this.code,{filter:function(e){return/[\u4e00-\u9fa5]/.test(e)}});window.result=e,this.replaceCode=e.result,this.findWordArr=e.extractString.map(function(e){return d()({},e,{used:!0,key:""})})},replace:function(){var e=this,t=[],r=document.createElement("div");r.textContent=this.showReplaceCode;var n=r.innerHTML;this.resultCode=this.findWordArr.reduce(function(r,n,a){if(n.used){var i=U(e.pageName||"",n.key);t.push([i,n.word]);var s="'",o="$t";return"vue-attr"===n.replaceType&&"'"===n.quotationMarks&&(s='"'),"js"===n.replaceType&&(o="this.$t"),r.replace(""+I[0]+a+I[1],'<span class="heightlight">'+o+"("+s+n.key+s+")</span>").replace(""+I[0]+a+P[0],'<span class="heightlight">'+o+"("+s+n.key+s+", [</span>").replace(""+P[1]+a+P[0],'<span class="heightlight">, </span>').replace(""+P[1]+a+I[1],'<span class="heightlight">])</span>')}if(r.indexOf(""+I[0]+n.index+P[0])>-1){var l=r.indexOf(""+I[0]+n.index+P[0]),c=r.indexOf(""+P[1]+n.index+I[1])+(""+I[1]+n.index+P[1]).length;return r.substr(0,l)+n.originalCode+r.substr(c)}return r.replace(I[0]+n.index+I[1],n.originalCode)},n),this.keyCode=t.map(function(e){var t=c()(e,2);return'"'+t[0]+'": "'+t[1].replace(/[\n]/g,"")+'"'}).join(",\n    ")},goback2:function(){this.keyCode="",this.resultCode=""},goback:function(){this.replaceCode="",this.findWordArr=[]},getKey:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","Loading")])}}),t.next=4,g.a.get("/transapi?from=cht&to=en&query="+e.findWordArr.map(function(e){return e.word}).join("%0A"));case 4:r=t.sent,e.findWordArr.forEach(function(e,t){e.key||(e.key=U(r.data.data[t].dst))}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e.$Message.error(t.t0);case 12:e.$Spin.hide();case 13:case"end":return t.stop()}},t,e,[[0,8]])}))()},focus:function(e){var t=document.querySelectorAll(".word"+e);if(t.length){t[0].scrollIntoView();for(var r=0;r<t.length;r++)t[r].classList.add("active")}},blur:function(e){var t=document.querySelectorAll(".word"+e);if(t.length){t[0].scrollIntoView();for(var r=0;r<t.length;r++)t[r].classList.remove("active")}}}},K={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[e.keyCode?[r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"12"}},[r("pre",{staticClass:"content",domProps:{innerHTML:e._s(e.resultCode)}})]),e._v(" "),r("Col",{attrs:{span:"12"}},[r("pre",{staticClass:"content"},[e._v("{\n    "+e._s(e.keyCode)+"\n}")])])],1),e._v(" "),r("Button",{attrs:{long:"",type:"error"},on:{click:e.goback2}},[e._v("\n                    返回\n                ")])]:e.findWordArr.length>0?[r("Input",{model:{value:e.pageName,callback:function(t){e.pageName=t},expression:"pageName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("页面namespace")])]),e._v(" "),r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"12"}},[r("pre",{key:"result",staticClass:"result",domProps:{innerHTML:e._s(e.showReplaceCodeHTML)}})]),e._v(" "),r("Col",{attrs:{span:"12"}},[r("ul",{staticClass:"word-list"},e._l(e.findWordArr,function(t){return r("li",{key:t.index,staticClass:"word-list-item"},[r("Checkbox",{model:{value:t.used,callback:function(r){e.$set(t,"used",r)},expression:"word.used"}},[e._v(e._s(t.index+1)+". "+e._s(t.word))]),e._v(" "),r("p",{staticClass:"word-list-item-key"},[t.used?r("Input",{attrs:{placeholder:"请输入该国际化文本的key"},on:{"on-focus":function(r){e.focus(t.index)},"on-blur":function(r){e.blur(t.index)}},model:{value:t.key,callback:function(r){e.$set(t,"key",r)},expression:"word.key"}}):e._e()],1)],1)}),0)])],1),e._v(" "),r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"12"}},[r("Button",{attrs:{long:"",type:"error"},on:{click:e.goback}},[e._v("\n                        返回\n                    ")])],1),e._v(" "),r("Col",{attrs:{span:"12"}},[e.replaceDisable?r("Button",{attrs:{long:"",type:"primary"},on:{click:e.replace}},[e._v("\n                        替换\n                    ")]):r("Tooltip",{staticStyle:{width:"100%"},attrs:{content:"请输入所有国际化文本的key"}},[r("Button",{attrs:{disabled:!0,long:"",type:"primary"}},[e._v("\n                            替换\n                        ")])],1)],1)],1)]:[r("div",{staticClass:"inputCode"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"content",attrs:{placeholder:"输入要提取国际化的页面代码",rows:"40",cols:"100"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),r("Button",{attrs:{type:"primary",long:""},on:{click:e.analyse}},[e._v("寻找中文字符")])],1)]],2)},staticRenderFns:[]};var X={name:"App",components:{HelloWorld:r("VU/8")(J,K,!1,function(e){r("n60w")},"data-v-67fe4e2f",null).exports}},Y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("hello-world")],1)},staticRenderFns:[]};var ee=r("VU/8")(X,Y,!1,function(e){r("nhHP")},null,null).exports,te=r("BTaQ"),re=r.n(te);r("+skl");n.default.use(re.a),n.default.config.productionTip=!1,new n.default({el:"#app",components:{App:ee},template:"<App/>"})},n60w:function(e,t){},nhHP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f80566b7efa6248746f0.js.map