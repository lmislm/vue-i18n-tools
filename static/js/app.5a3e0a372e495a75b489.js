webpackJsonp([1],{"+skl":function(t,e){},"F+9D":function(t,e){},K14U:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a=r("Xxa5"),i=r.n(a),s=r("exGp"),o=r.n(s),l=r("d7EF"),c=r.n(l),u=r("Dd8w"),d=r.n(u),p=r("Gu7T"),h=r.n(p),f=r("mtWM"),g=r.n(f),v=r("woOf"),m=r.n(v),x=r("OvRC"),y=r.n(x),C=b("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track");function b(t,e){for(var r=y()(null),n=t.split(","),a=0;a<n.length;a++)r[n[a]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}var w=function(){return!1},k=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,_="[a-zA-Z_][\\w\\-\\.]*",A="((?:"+_+"\\:)?"+_+")",S=new RegExp("^<"+A),T=/^\s*(\/?)>/,M=new RegExp("^<\\/"+A+"[^>]*>"),E=/^<!DOCTYPE [^>]+>/i,L=/^<!\--/,O=/^<!\[/,q=b("script,style,textarea",!0),$={},R={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},N=/&(?:lt|gt|quot|amp);/g,W=/&(?:lt|gt|quot|amp|#10|#9);/g,H=b("pre,textarea",!0),j=function(t,e){return t&&H(t)&&"\n"===e[0]};function B(t,e){var r=e?W:N;return t.replace(r,function(t){return R[t]})}var D=["-||","||-"],F=["%$$","$$%"],I=r("fZjL"),z=r.n(I),U=r("/ZzT");function V(t,e){var r=[];!function t(e,r,n){if("ImportDeclaration"===e.type)return;if("StringLiteral"===e.type||"DirectiveLiteral"===e.type){var a=e;n(a.value)&&r.push(e)}else if("TemplateLiteral"===e.type)if(e.expressions&&e.expressions.length&&e.quasis.length>1)e.quasis.some(function(t){return n(t.value.cooked)})?(r.push(e.quasis),e.expressions.forEach(function(e){return t(e,r,n)})):e.expressions.forEach(function(e){return t(e,r,n)});else{var i=e;n(i.quasis[0].value.cooked)&&r.push(i.quasis[0])}else if(Array.isArray(e))e.forEach(function(e){return t(e,r,n)});else{var s=z()(e);s.forEach(function(a){(e[a]&&e[a].type||Array.isArray(e[a]))&&t(e[a],r,n)})}}(Object(U.parse)(t,{allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,allowSuperOutsideMethod:!0}).program,r,e);var n=[];return r.forEach(function(t,e){if(Array.isArray(t)){var r=t.reduce(function(e,r,n){return n<t.length-1?e+r.value.raw+"{"+n+"}":e+r.value.raw},"");t.map(function(a,i){n.push({index:e,type:"TemplateQuasis",item:a,first:0==i,last:i==t.length-1,value:r})})}else n.push({index:e,type:"String",item:t})}),n.sort(function(t,e){return t.item.start-e.item.start}),n}var P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.filter,n=void 0===r?function(){return!0}:r,a=e.startNo,i=void 0===a?0:a,s=[],o=0,l={};return V(t,n).forEach(function(e){if("String"==e.type){var r=e.item.start+o,n=e.item.end+o,a=i+e.index;if("StringLiteral"==e.item.type||"DirectiveLiteral"==e.item.type){var c=D[0]+a+D[1];s.push({index:a,replaceCode:c,originalCode:t.substring(r,n),word:e.item.value,type:"string",replaceType:"js"}),t=t.substring(0,r)+c+t.substring(n),o+=e.item.start-e.item.end+c.length}else{r-=1,n+=1;var u=D[0]+a+D[1];s.push({index:a,replaceCode:u,originalCode:t.substring(r,n),word:e.item.value.cooked,type:"string",replaceType:"js"}),t=t.substring(0,r)+u+t.substring(n),o+=e.item.start-e.item.end-2+u.length}}else if("TemplateQuasis"==e.type){var d=i+e.index;if(e.first){var p=D[0]+d+F[0],h=t.substring(e.item.start-1+o,e.item.end+2+o);t=t.substring(0,e.item.start-1+o)+p+t.substring(e.item.end+2+o),l[d]={start:e.item.start+o-1,index:d,originalCode:[h],extractString:{index:d,replaceCode:"",originalCode:"",word:e.value,type:"template",replaceType:"js"}},o+=e.item.start-e.item.end-3+p.length,s.push(l[d].extractString),t=t}else if(e.last){var f=F[1]+d+D[1],g=t.substring(e.item.start-1+o,e.item.end+1+o);l[d].originalCode.push(g);var v=(t=t.substring(0,e.item.start-1+o)+f+t.substring(e.item.end+1+o)).substring(l[d].start,e.item.start-1+o+f.length),m=l[d].originalCode.reduce(function(t,e,r,n){return 0===r?t.replace(D[0]+d+F[0],e):r===n.length-1?t.replace(F[1]+d+D[1],e):t.replace(F[1]+d+F[0],e)},v);l[d].extractString.originalCode=m,l[d].extractString.replaceCode=v,delete l[d],o+=e.item.start-e.item.end-2+f.length}else{var x=F[1]+d+F[0],y=t.substring(e.item.start-1+o,e.item.end+2+o);l[d].originalCode.push(y),t=t.substring(0,e.item.start-1+o)+x+t.substring(e.item.end+2+o),o+=e.item.start-e.item.end-3+x.length,t=t}}}),{result:t,markString:D,interpolationMark:F,extractString:s}},Z=["v-for"],K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.filter,n=void 0===r?function(){return!0}:r,a=(e.startNo,[]),i=0,s=0,o=void 0;return function(t,e){for(var r=[],n=e.expectHTML,a=w,i=b(""),s=0,o=void 0,l=void 0;t;){if(o=t,l&&q(l))!function(){var r=0,n=l.toLowerCase(),a=$[n]||($[n]=new RegExp("([\\s\\S]*?)(</"+n+"[^>]*>)","i")),i=t.replace(a,function(t,a,i){return r=i.length,q(n)||"noscript"===n||(a=a.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),j(n,a)&&(a=a.slice(1)),e.chars&&e.chars(a,s,s+a.length),""});s+=t.length-i.length,t=i,R(n,s-r,s)}();else{var c=t.indexOf("<");if(0===c){if(L.test(t)){var u=t.indexOf("--\x3e");if(u>=0){"function"==typeof e.comment&&e.comment(t.substring(4,u)),y(u+3);continue}}if(O.test(t)){var d=t.indexOf("]>");if(d>=0){y(d+2);continue}}var p=t.match(E);if(p){y(p[0].length);continue}var h=t.match(M);if(h){var f=s;y(h[0].length),R(h[1],f,s);continue}var g=_();if(g){A(g),j(g.tagName,t)&&y(1);continue}}var v=void 0,m=void 0,x=void 0;if(c>=0){for(m=t.slice(c);!(M.test(m)||S.test(m)||L.test(m)||O.test(m)||(x=m.indexOf("<",1))<0);)c+=x,m=t.slice(c);v=t.substring(0,c),y(c)}c<0&&(v=t,t="",s+=v.length),e.chars&&v&&e.chars(v,s-v.length,s)}if(t===o){e.chars&&e.chars(t,s,s+t.length);break}}function y(e){s+=e,t=t.substring(e)}function _(){var e=t.match(S);if(e){var r={tagName:e[1],attrs:[],start:s};y(e[0].length);for(var n=void 0,a=void 0;!(n=t.match(T))&&(a=t.match(k));){var i=s;y(a[0].length);var o=s;r.attrs.push({array:a,start:i,end:o})}if(n)return r.unarySlash=n[1],y(n[0].length),r.end=s,r}}function A(t){var s=t.tagName,o=t.unarySlash;n&&("p"===l&&C(s)&&R(l),i(s)&&l===s&&R(s));for(var c=a(s)||!!o,u=t.attrs.length,d=new Array(u),p=0;p<u;p++){var h=t.attrs[p].array,f=h[3]||h[4]||h[5]||"",g="";h[3]?g='"':h[4]&&(g="'"),d[p]={code:h[0],name:h[1],start:t.attrs[p].start,end:t.attrs[p].end,value:B(f,!0),quotationMarks:g}}c||(r.push({tag:s,lowerCasedTag:s.toLowerCase(),attrs:d}),l=s),e.start&&e.start(s,d,t.start,t.end)}function R(t,n,a){var i=void 0,o=void 0;if(null==n&&(n=s),null==a&&(a=s),t)for(o=t.toLowerCase(),i=r.length-1;i>=0&&r[i].lowerCasedTag!==o;i--);else i=0;if(i>=0){for(var c=r.length-1;c>=i;c--)e.end&&e.end(r[c].tag,n,c==i?a:n);r.length=i,l=i&&r[i-1].tag}else"br"===o?e.start&&e.start(t,[],n,a):"p"===o&&(e.start&&e.start(t,[],n,a),e.end&&e.end(t,n,a))}R()}(t,{start:function(e,r,l,c){0===s?(o=e,s++):"template"===e&&"template"===o&&s++,"template"===o&&r.forEach(function(e){if(e.value&&-1===Z.indexOf(e.name.toLowerCase()))if(e.name.match(/^[:@]|v-/)){var r=e.code.split("=")[0],s=e.value;'"'===e.quotationMarks?s=s.replace(/\\"/g,'"'):"'"===e.quotationMarks&&(s=s.replace(/\\'/g,"'"));try{var o=P(s,{startNo:a.length,filter:n});if(o.extractString.length>0){var l=[];o.extractString.forEach(function(t,r){var n=m()({},t,{replaceType:"vue-attr",quotationMarks:e.quotationMarks});l.push(n)}),a=a.concat(l),t=t.substr(0,e.start+i)+r+"="+e.quotationMarks+o.result+e.quotationMarks+t.substr(e.end+i),i+=o.result.length-s.length}}catch(t){console.warn(s,"\n",t)}}else if(e.name.match(/^[a-zA-Z_]+/g)&&n(e.value)){var c='"'==e.quotationMarks?"'":'"',u=""+D[0]+a.length+D[1],d={index:a.length,originalCode:e.code.trim(),replaceCode:":"+e.name+"="+c+u+c,word:e.value,type:"string",replaceType:"attr"};a.push(d),t=t.substr(0,e.start+i)+e.code.split(e.name[0])[0]+u+t.substr(e.end+i),i+=u.length-d.originalCode.length}})},chars:function(e,r,s){if("template"===o)for(var l=e,c=r;l;){var u=l.indexOf("{{"),d=void 0;if(0===u){var p=l.indexOf("}}");if(-1!==p){d=l.substr(2,p-2),l=l.substr(p+2);try{var h=P(d,{startNo:a.length,filter:n});h.extractString.length>0&&function(){var e=[];h.extractString.forEach(function(t,r){var n=m()({},t,{replaceType:"vue-template"});e.push(n)}),a=a.concat(e),t=t.substr(0,c+i)+"{{"+h.result+"}}"+t.substr(c+d.length+4+i),i+=h.result.length-d.length,c+=h.result.length+3}()}catch(t){console.warn(d,"\n",t)}continue}}if(u>0&&l.indexOf("}}")>-1?(d=l.substr(0,u),l=l.substr(u)):(d=l,l=""),n(d)){var f=""+D[0]+a.length+D[1],g={index:a.length,originalCode:d,replaceCode:"{{"+f+"}}",word:d.trim(),type:"string",replaceType:"template"};a.push(g),t=t.substr(0,c+i)+f+t.substr(c+d.length+i),i+=f.length-g.originalCode.length,c+=d.length}}else if("script"===o){var v=e;try{var x=P(v,{startNo:a.length,filter:n});if(x.extractString.length>0){var y=[];x.extractString.forEach(function(t,e){var r=t;y.push(r)}),a=a.concat(y),t=t.substr(0,r+i)+x.result+t.substr(s+i),i+=x.result.length-v.length}}catch(t){console.warn(v,"\n",t)}}},end:function(t){1===s&&o==t?(o=void 0,s--):s>1&&"template"===t&&"template"===o&&s--}}),{result:t,markString:D,interpolationMark:F,extractString:a}};function Q(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(e=e.filter(function(t){return t}).reduce(function(t,e){return[].concat(h()(t),h()(e.trim().split(/\s+/g)))},[])).slice(0,3).map(function(t){return t.toLowerCase()}).join("_")}var X={name:"HelloWorld",data:function(){return{pageName:"",code:"",findWordArr:[],replaceCode:"",resultCode:"",keyCode:""}},computed:{showReplaceCode:function(){return this.replaceCode?this.findWordArr.reduce(function(t,e,r){if(!e.used){if(t.indexOf(""+D[0]+e.index+F[0])>-1){var n=t.indexOf(""+D[0]+e.index+F[0]),a=t.indexOf(""+F[1]+e.index+D[1])+(""+D[1]+e.index+F[1]).length;return t.substr(0,n)+e.originalCode+t.substr(a)}return t.replace(D[0]+e.index+D[1],e.originalCode)}return t=t.replace(D[0]+e.index+D[1],e.replaceCode)},this.replaceCode):""},showReplaceCodeHTML:function(){var t=document.createElement("div");t.textContent=this.showReplaceCode;var e=t.innerHTML;return e=this.findWordArr.reduce(function(t,e,r){return t.replace(""+D[0]+r+D[1],'<span class="heightlight word'+r+'">$t('+(r+1)+")</span>").replace(""+D[0]+r+F[0],'<span class="heightlight word'+r+'">$t('+(r+1)+", [</span>").replace(""+F[1]+r+F[0],'<span class="heightlight word'+r+'">,</span>').replace(""+F[1]+r+D[1],'<span class="heightlight word'+r+'">])</span>')},e)},replaceDisable:function(){return this.findWordArr.reduce(function(t,e){return t&&(!e.used||e.key)},!0)}},watch:{code:function(){this.findWordArr=[],this.replaceCode="",this.resultCode=""}},methods:{analyse:function(){var t=K(this.code,{filter:function(t){return/[\u4e00-\u9fa5]/.test(t)}});window.result=t,this.replaceCode=t.result,this.findWordArr=t.extractString.map(function(t){return d()({},t,{used:!0,key:""})})},replace:function(){var t=this,e=[],r=document.createElement("div");r.textContent=this.showReplaceCode;var n=r.innerHTML;this.resultCode=this.findWordArr.reduce(function(r,n,a){if(n.used){var i=Q(t.pageName||"",n.key);e.push([i,n.word]);var s="'",o="$t";return"vue-attr"===n.replaceType&&"'"===n.quotationMarks&&(s='"'),"js"===n.replaceType&&(o="this.$t"),r.replace(""+D[0]+a+D[1],'<span class="heightlight">'+o+"("+s+n.key+s+")</span>").replace(""+D[0]+a+F[0],'<span class="heightlight">'+o+"("+s+n.key+s+", [</span>").replace(""+F[1]+a+F[0],'<span class="heightlight">, </span>').replace(""+F[1]+a+D[1],'<span class="heightlight">])</span>')}if(r.indexOf(""+D[0]+n.index+F[0])>-1){var l=r.indexOf(""+D[0]+n.index+F[0]),c=r.indexOf(""+F[1]+n.index+D[1])+(""+D[1]+n.index+F[1]).length;return r.substr(0,l)+n.originalCode+r.substr(c)}return r.replace(D[0]+n.index+D[1],n.originalCode)},n),this.keyCode=e.map(function(t){var e=c()(t,2);return'"'+e[0]+'": "'+e[1].replace(/[\n]/g,"")+'"'}).join(",\n    ")},goback2:function(){this.keyCode="",this.resultCode=""},goback:function(){this.replaceCode="",this.findWordArr=[]},getKey:function(){var t=this;return o()(i.a.mark(function e(){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$Spin.show({render:function(t){return t("div",[t("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),t("div","Loading")])}}),e.next=4,g.a.get("/transapi?from=cht&to=en&query="+t.findWordArr.map(function(t){return t.word}).join("%0A"));case 4:r=e.sent,t.findWordArr.forEach(function(t,e){t.key||(t.key=Q(r.data.data[e].dst))}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),t.$Message.error(e.t0);case 12:t.$Spin.hide();case 13:case"end":return e.stop()}},e,t,[[0,8]])}))()},focus:function(t){var e=document.querySelectorAll(".word"+t);if(e.length){e[0].scrollIntoView();for(var r=0;r<e.length;r++)e[r].classList.add("active")}},blur:function(t){var e=document.querySelectorAll(".word"+t);if(e.length){e[0].scrollIntoView();for(var r=0;r<e.length;r++)e[r].classList.remove("active")}}}},G={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[t.keyCode?[r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"12"}},[r("pre",{staticClass:"content",domProps:{innerHTML:t._s(t.resultCode)}})]),t._v(" "),r("Col",{attrs:{span:"12"}},[r("pre",{staticClass:"content"},[t._v("{\n    "+t._s(t.keyCode)+"\n}")])])],1),t._v(" "),r("Button",{attrs:{long:"",type:"error"},on:{click:t.goback2}},[t._v("\n                    返回\n                ")])]:t.findWordArr.length>0?[r("Input",{model:{value:t.pageName,callback:function(e){t.pageName=e},expression:"pageName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("页面namespace")])]),t._v(" "),r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"12"}},[r("pre",{key:"result",staticClass:"result",domProps:{innerHTML:t._s(t.showReplaceCodeHTML)}})]),t._v(" "),r("Col",{attrs:{span:"12"}},[r("ul",{staticClass:"word-list"},t._l(t.findWordArr,function(e){return r("li",{key:e.index,staticClass:"word-list-item"},[r("Checkbox",{model:{value:e.used,callback:function(r){t.$set(e,"used",r)},expression:"word.used"}},[t._v(t._s(e.index+1)+". "+t._s(e.word))]),t._v(" "),r("p",{staticClass:"word-list-item-key"},[e.used?r("Input",{attrs:{placeholder:"请输入该国际化文本的key"},on:{"on-focus":function(r){t.focus(e.index)},"on-blur":function(r){t.blur(e.index)}},model:{value:e.key,callback:function(r){t.$set(e,"key",r)},expression:"word.key"}}):t._e()],1)],1)}),0)])],1),t._v(" "),r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"12"}},[r("Button",{attrs:{long:"",type:"error"},on:{click:t.goback}},[t._v("\n                        返回\n                    ")])],1),t._v(" "),r("Col",{attrs:{span:"12"}},[t.replaceDisable?r("Button",{attrs:{long:"",type:"primary"},on:{click:t.replace}},[t._v("\n                        替换\n                    ")]):r("Tooltip",{staticStyle:{width:"100%"},attrs:{content:"请输入所有国际化文本的key"}},[r("Button",{attrs:{disabled:!0,long:"",type:"primary"}},[t._v("\n                            替换\n                        ")])],1)],1)],1)]:[r("div",{staticClass:"inputCode"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"content",attrs:{placeholder:"输入要提取国际化的页面代码",rows:"40",cols:"100"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),r("Button",{attrs:{type:"primary",long:""},on:{click:t.analyse}},[t._v("寻找中文字符")])],1)]],2)},staticRenderFns:[]};var J={data:function(){return{}},methods:{goReadMe:function(){location.href="https://github.com/laden666666/vue-i18n-tools"}}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"toolsBox"},[e("Button",{attrs:{type:"primary",shape:"circle",icon:"md-help-circle"},on:{click:this.goReadMe}},[this._v("查看readme")]),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"github-btn-group"},[e("iframe",{staticClass:"github-btn",attrs:{src:"https://ghbtns.com/github-btn.html?user=laden666666&repo=vue-i18n-tools&type=star&count=false&size=large",frameborder:"0",scrolling:"0",width:"80px",height:"30px"}}),this._v(" "),e("iframe",{staticClass:"github-btn",attrs:{src:"https://ghbtns.com/github-btn.html?user=laden666666&repo=vue-i18n-tools&type=fork&count=false&size=large",frameborder:"0",scrolling:"0",width:"80px",height:"30px"}})])}]};var tt={components:{I18nHelper:r("VU/8")(X,G,!1,function(t){r("Xu/1")},"data-v-0ec95918",null).exports,ToolsBox:r("VU/8")(J,Y,!1,function(t){r("F+9D")},"data-v-77879cdc",null).exports}},et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ToolsBox"),this._v(" "),e("I18nHelper")],1)},staticRenderFns:[]},rt={name:"App",components:{Main:r("VU/8")(tt,et,!1,null,null,null).exports}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Main")],1)},staticRenderFns:[]};var at=r("VU/8")(rt,nt,!1,function(t){r("K14U")},null,null).exports,it=r("BTaQ"),st=r.n(it);r("+skl");n.default.use(st.a),n.default.config.productionTip=!1,new n.default({el:"#app",components:{App:at},template:"<App/>"})},"Xu/1":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5a3e0a372e495a75b489.js.map